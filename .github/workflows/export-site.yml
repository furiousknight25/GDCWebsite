# Name of the workflow
name: Deploy Static Site to GitHub Pages

# Run this workflow every time you push to the "main" branch
on:
  push:
    branches: [main]

# Permissions needed to write to the gh-pages branch
permissions:
  contents: write

jobs:
  # Job to deploy the pre-built site
  deploy:
    runs-on: ubuntu-latest # Use the latest Ubuntu runner
    steps:
      # 1. Checks out your repository's code, including the committed .kobweb/site folder
      - name: Checkout repository
        uses: actions/checkout@v4

      # 2. Deploys the contents of the .kobweb/site folder to the 'gh-pages' branch
      - name: Deploy to GitHub Pages
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          branch: gh-pages # The branch the action should deploy to
          folder: .kobweb/site # The folder in your main branch containing the built site